faultBean:
  type: object
  required:
    - categoria
    - codice
    - descrizione
  properties:
    categoria:
      type: string
      description: >-
        Categoria dell'errore riscontrato:
         * `AUTORIZZAZIONE` - Operazione non autorizzata
         * `RICHIESTA` - Richiesta non valida
         * `OPERAZIONE` - Operazione non eseguibile
         * `PAGOPA` - Errore da PagoPA
         * `INTERNO` - Errore interno
      enum:
        - AUTORIZZAZIONE
        - RICHIESTA
        - OPERAZIONE
        - PAGOPA
        - INTERNO
    codice:
      type: string
      description: Codice di errore
    descrizione:
      type: string
      description: Descrizione dell'errore
    dettaglio:
      type: string
      description: Descrizione aggiuntiva
responses:
  '400':
    description: Richiesta non correttamente formata
    content:
      application/json:
        schema:
          $ref: '#/faultBean'
        example:
          categoria: RICHIESTA
          codice: 00001
          descrizione: Messaggio di richiesta non valido
          dettaglio: Codice Avviso non conforme alle specifiche pagoPA
  '401':
    description: Richiesta non autenticata
  '403':
    description: Richiesta non autorizzata
  '404':
    description: Risorsa inesistente
  '500':
    description: Servizio non disponibile
    content:
      application/json:
        schema:
          $ref: '#/faultBean'
        example:
          categoria: INTERNO
          codice: INTERNO
          descrizione: Servizio non disponibile
  '502':
    description: Rilevato errore con la piattaforma PagoPA
    content:
      application/json:
        schema:
          $ref: '#/faultBean'
        example:
          categoria: PAGOPA
          codice: PPT_CANALE_IRRAGGIUNGIBILE
          descrizione: Errore di connessione verso il canale    