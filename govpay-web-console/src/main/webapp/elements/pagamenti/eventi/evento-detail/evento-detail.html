<link rel="import" href="../../../../bower_components/polymer/polymer.html">


<dom-module id="evento-detail">
    <template>
        <style include="shared-styles"></style>
        <style>
            :host {
            display: block;
            }
        </style>
        <div class="layout horizontal center-justified restorePadding">
            <div class="layout vertical flex">
                <div class="layout horizontal center-justified">
                    <div id="itembox" class="layout vertical flex itembox">
                        <div class="layout horizontal flex">
                            <div class="layout horizontal center start-justified headerbox" >

                            </div>
                        </div>

                        <paper-material elevation="0">
                            <!--  <p class="groupTitle"><span class="groupTitle">INFORMAZIONI INTERMEDIARIO</span></p>-->

                            <p class="groupItem"><span class="grouplabel">Data: </span><span>[[_getDataFieldAsString(eventoCorrente,'dataOraEvento')]]</span></p>
                            <p class="groupItem"><span class="grouplabel">Esito: </span><span>[[_getProperty(eventoCorrente,'esito')]]</span></p>
                            <p class="groupItem"><span class="grouplabel">Dominio: </span><span>[[_getProperty(eventoCorrente,'codDominio')]]</span></p>
                            <p class="groupItem"><span class="grouplabel">Stazione: </span><span>[[_getProperty(eventoCorrente,'codStazione')]]</span></p>
                            <p class="groupItem"><span class="grouplabel">IUV: </span><span>[[_getProperty(eventoCorrente,'iuv')]]</span></p>
                            <p class="groupItem"><span class="grouplabel">CCP: </span><span>[[_getProperty(eventoCorrente,'ccp')]]</span></p>
                            <p class="groupItem"><span class="grouplabel">Applicazione: </span><span>[[_getProperty(eventoCorrente,'codApplicazione')]]</span></p>
                            <p class="groupItem"><span class="grouplabel">Psp: </span><span>[[_getProperty(eventoCorrente,'codPsp')]]</span></p>
                            <p class="groupItem"><span class="grouplabel">Canale: </span><span>[[_getProperty(eventoCorrente,'canalePagamento')]]</span></p>
                            <p class="groupItem"><span class="grouplabel">Tipo Versamento: </span><span>[[_getProperty(eventoCorrente,'tipoVersamento')]]</span></p>
                            <p class="groupItem"><span class="grouplabel">Componente: </span><span>[[_getProperty(eventoCorrente,'componente')]]</span></p>
                            <p class="groupItem"><span class="grouplabel">Categoria: </span><span>[[_getProperty(eventoCorrente,'categoriaEvento')]]</span></p>
                            <p class="groupItem"><span class="grouplabel">Tipo: </span><span>[[_getProperty(eventoCorrente,'tipoEvento')]]</span></p>
                            <p class="groupItem"><span class="grouplabel">Sottotipo: </span><span>[[_getProperty(eventoCorrente,'sottotipoEvento')]]</span></p>
                            <p class="groupItem"><span class="grouplabel">Fruitore: </span><span>[[_getProperty(eventoCorrente,'codFruitore')]]</span></p>
                            <p class="groupItem"><span class="grouplabel">Erogatore: </span><span>[[_getProperty(eventoCorrente,'codErogatore')]]</span></p>
                            <p class="groupItem"><span class="grouplabel">Altri Parametri: </span><span>[[_getProperty(eventoCorrente,'altriParametri')]]</span></p>
                        </paper-material>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <script>
    (function() {
      'use strict';

      Polymer({
        is: 'evento-detail',

        properties: {
          titoloSezione: {
            type: String,
            value: 'Dettaglio Evento'
          },
          eventoCorrente: {
            type: Object,
            value: null
          },
           selectedTab: {type: Number, value : 0},
         filtro: {  type: String, value: ''},
          nascondiAzioneExport : { type: Boolean , value : true},
          nascondiAzioneCancella : {type: Boolean , value : true},
          abilitaSelezione : {type: Boolean , value : false}
        },

        ready: function() {
          //   console.log('ready function...');
        },
        _refreshList: function(){
        this.dataProvider = this.dataProvider.slice(0);
      },
        _filtraListaRisultati: function(item){
        var mostra = true;
        if (this.filtro && this.filtro!==''){
           if  (item.codEnte.toLowerCase().indexOf(this.filtro.toLowerCase())===-1 &&
              (item.ragioneSociale.toLowerCase().indexOf(this.filtro.toLowerCase())===-1)){
            mostra = false;
          }
        }
        return mostra;
      },
        _ricercaVuota: function(numeroRisultati){
            return numeroRisultati == 0;
        },
        isEven: function(index){
            if((index % 2)==0)
                return 'even';

            return 'odd';
        },
         _getAbilitatoAsString: function(abilitato){
            if(abilitato)
                return 'Abilitato';

            return 'Disabilitato';
      },
         _getAbilitatoSiNo: function(abilitato){
            if(abilitato)
                return 'SI';

            return 'NO';
      },
         _getProperty: function(oggetto, nomeProperty){
            if(oggetto){
                var val = oggetto[nomeProperty];
                return val;
            }
            return '';
        },
        _getDataFieldAsString: function(item,field) {
            var data = this._getProperty(item,field);
            if(data){

                var d = new Date(data);
                return this._dateFormat(d,'YYYY-MM-DD HH:mm:ss');

            }

            return '';
        },
         _dateFormat : function(date, format) {
            return moment(date).format(format);
        }
      });
    })();
    </script>

</dom-module>
