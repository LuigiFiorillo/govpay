get_profilo:
  get:
    summary: Elenco delle acl associate all'utenza chiamante
    tags:
      - Backoffice
      - Pagamenti
      - Pendenze
      - Ragioneria
    parameters:
    - $ref: './comuni.yaml#/pagina'
    - $ref: './comuni.yaml#/risultatiPerPagina'
    - $ref: './comuni.yaml#/campi'
    responses:
      '200':
        description: Elenco dei ruoli associati all'utenza chiamante
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/acl'
      '401':
        $ref: './errori.yaml#/responses/401'
      '403':
        $ref: './errori.yaml#/responses/403'
      '500':
        $ref: './errori.yaml#/responses/500'
aclPost:
  type: object
  required:
    - servizio
    - autorizzazioni
  properties:
    ruolo:
      type: string
      description: ruolo a cui si applica l'acl
      example: Operatore
    principal:
      type: string
      description: principal a cui si applica l'acl
      example: user001
    servizio:
      type: string
      description: >- 
        Servizio oggetto dell'autorizzazione
         * Anagrafica PagoPA
         * Anagrafica Creditore
         * Anagrafica Applicazioni
         * Anagrafica Ruoli
         * Pendenze e Pagamenti
         * Pendenze e Pagamenti propri 
         * Rendicontazioni e Incassi
         * Giornale degli Eventi
         * Statistiche
         * Configurazione e Manutenzione
      enum:
        - Anagrafica PagoPA
        - Anagrafica Creditore
        - Anagrafica Applicazioni
        - Anagrafica Ruoli
        - Pagamenti e Pendenze
        - Rendicontazioni e Incassi
        - Giornale degli Eventi
        - Configurazione e manutenzione
      example:
        Pendenze e Pagamenti
    autorizzazioni:
      type: array
      items:
        type: string
        enum:
         - Lettura
         - Scrittura
         - Esecuzione
      example:
        - Lettura
        - Scrittura
acl:
  type: object
  allOf:
    - type: object
      required:
       - id
      properties:
        id:
          type: string
          description: identificativo dell'acl
          example: '1234'
    - $ref: '#/aclPost'        