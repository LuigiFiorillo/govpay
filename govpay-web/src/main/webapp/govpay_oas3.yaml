openapi: 3.0.0
info:
  description: >-
    API di integrazione ai servizi di pagamento di 
    [GovPay](https://github.com/link-it/GovPay)
  version: "0.2"
  title: GovPay
  contact:
    name: GitHub Project Page
    url: 'https://github.com/link-it/GovPay/'
  license:
    name: GPL
    url: 'https://github.com/link-it/GovPay/blob/master/LICENSE'
servers:
# Added by API Auto Mocking Plugin
  - description: SwaggerHub API Auto Mocking
    url: https://virtserver.swaggerhub.com/Govpay/gov-pay/0.2
tags:
  - name: Pagamenti
  - name: Pendenze
  - name: Backoffice
  - name: Ragioneria
paths:
  '/psp':
    get:
      tags:
        - Pagamenti
        - Backoffice
      summary: Elenco dei PSP
      parameters:
        - in: query
          name: pagina
          description: Numero di pagina dei risultati
          required: false
          schema:
            type: integer
            default: 1
        - in: query
          name: risultatiPerPagina
          description: Numero massimo di risultati nella risposta
          required: false
          schema:
            type: integer
            default: 25
            maximum: 200
        - name: ordinamento
          in: query
          description: >-
            csv dei campi su cui ordinare i risultati, preceduti da + o - per ascendente o discendente (default ascendente)
             * ragioneSociale
          required: false
          schema:
            type: string
            format: csv
            default: +ragioneSociale
        - name: campi
          in: query
          description: >-
            csv dei campi da includere nella risposta (default tutti)
          required: false
          schema:
            type: string
            format: csv
        - name: abilitato
          in: query
          description: Restrizione ai soli psp abilitati o disabilitati
          required: false
          schema:
            type: boolean
        - name: bollo
          in: query
          description: Restrizione ai soli psp che supportano o meno il pagamento della Marca da Bollo Telematica
          required: false
          schema: 
            type: boolean
        - name: storno
          in: query
          description: Restrizione ai soli psp che supportano o meno lo storno dei pagamenti
          required: false
          schema:
            type: boolean
      responses:
        '200':
          description: Elenco dei psp
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/listaPaginata'
                  - type: object
                    required:
                      - risultati
                    properties:
                      risultati:
                        type: array
                        items:
                          $ref: '#/components/schemas/psp'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403' 
        '500':
          $ref: '#/components/responses/500'  
  '/psp/{idPsp}':
    get:
      tags:
        - Pagamenti
        - Backoffice
      summary: Informazioni di un PSP
      parameters:
        - in: path
          name: idPsp
          description: Identificativo del PSP richiesto
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Informazioni del psp
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/psp'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403' 
        '500':
          $ref: '#/components/responses/500'  
  '/psp/{idPsp}/canali':
    get:
      tags:
        - Pagamenti
        - Backoffice
      summary: Elenco dei canali di un psp
      parameters:
        - in: query
          name: pagina
          description: Numero di pagina dei risultati
          required: false
          schema:
            type: integer
            default: 1
        - in: query
          name: risultatiPerPagina
          description: Numero massimo di risultati nella risposta
          required: false
          schema:
            type: integer
            default: 25
            maximum: 200
        - name: ordinamento
          in: query
          description: >-
            csv dei campi su cui ordinare i risultati, preceduti da + o - per ascendente o discendente (default ascendente)
             * idCanale
          required: false
          schema:
            type: string
            format: csv
            default: +ragioneSociale
        - name: campi
          in: query
          description: >-
            csv dei campi da includere nella risposta (default tutti)
          required: false
          schema:
            type: string
            format: csv
        - name: abilitato
          in: query
          description: Restrizione ai soli canali abilitati o disabilitati
          required: false
          schema:
            type: boolean
        - name: modello
          in: query
          description: Restrizione per modello di pagamento realizzato
          required: false
          schema:
            $ref: '#/components/schemas/modelloPagamento'
        - name: abilitato
          in: query
          description: Restrizione per tipo di versamento realizzato
          required: false
          schema:
            $ref: '#/components/schemas/tipoVersamento'
      responses:
        '200':
          description: Elenco dei canali di un psp
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/listaPaginata'
                  - type: object
                    required:
                      - risultati
                    properties:
                      risultati:
                        type: array
                        items:
                          $ref: '#/components/schemas/canale'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403' 
        '500':
          $ref: '#/components/responses/500'  
  '/psp/{idPsp}/canali/{idCanale}':
    get:
      tags:
        - Pagamenti
        - Backoffice
      summary: Informazioni di un canale di pagamento
      parameters:
        - in: path
          name: idPsp
          description: Identificativo del psp
          required: true
          schema:
            type: string
        - in: path
          name: idCanale
          description: Identificativo del canale
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Informazioni del canale di pagamento
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/canale'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403' 
        '500':
          $ref: '#/components/responses/500'  
  '/intermediari':
    get:
      tags:
        - Backoffice
      summary: Elenco degli intermediari
      parameters:
        - in: query
          name: pagina
          description: Numero di pagina dei risultati
          required: false
          schema:
            type: integer
            default: 1
        - in: query
          name: risultatiPerPagina
          description: Numero massimo di risultati nella risposta
          required: false
          schema:
            type: integer
            default: 25
            maximum: 200
        - name: ordinamento
          in: query
          description: >-
            csv dei campi su cui ordinare i risultati, preceduti da + o - per ascendente o discendente (default ascendente)
             * denominazione
          required: false
          schema:
            type: string
            format: csv
            default: +denominazione
        - name: campi
          in: query
          description: >-
            csv dei campi da includere nella risposta (default tutti)
          required: false
          schema:
            type: string
            format: csv
        - name: abilitato
          in: query
          description: Restrizione ai soli psp abilitati o disabilitati
          required: false
          schema:
            type: boolean
      responses:
        '200':
          description: Lista paginata degli intermediari ricercati
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/listaPaginata'
                  - type: object
                    required:
                      - risultati
                    properties:
                      risultati:
                        type: array
                        items:
                          $ref: '#/components/schemas/intermediario'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403' 
        '500':
          $ref: '#/components/responses/500'  
  '/intermediari/{idIntermediario}':
    put:
      tags:
        - Backoffice
      summary: Aggiunge o aggiorna un intermediario
      parameters:
        - in: path
          name: idIntermediario
          description: Identificativo dell'intermediario
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/intermediarioPost'
      responses:
        '200':
          description: Intermediario aggiornato
        '201':
          description: Intermediario creato
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403' 
        '500':
          $ref: '#/components/responses/500'  
    get:
      tags:
        - Backoffice
      summary: Informazioni di un intermediario
      parameters:
        - in: path
          name: idIntermediario
          description: Identificativo dell'intermediario
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Dettaglio dell'intermediario
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/intermediario'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403' 
        '500':
          $ref: '#/components/responses/500'  
  '/intermediari/{idIntermediario}/stazioni':
    get:
      tags:
        - Backoffice
      summary: Elenco delle stazioni di un intermediario
      parameters:
        - in: query
          name: pagina
          description: Numero di pagina dei risultati
          required: false
          schema:
            type: integer
            default: 1
        - in: query
          name: risultatiPerPagina
          description: Numero massimo di risultati nella risposta
          required: false
          schema:
            type: integer
            default: 25
            maximum: 200
        - name: ordinamento
          in: query
          description: >-
            csv dei campi su cui ordinare i risultati, preceduti da + o - per ascendente o discendente (default ascendente)
             * idStazione
          required: false
          schema:
            type: string
            format: csv
            default: +idStazione
        - name: campi
          in: query
          description: >-
            csv dei campi da includere nella risposta (default tutti)
          required: false
          schema:
            type: string
            format: csv
        - name: abilitato
          in: query
          description: Restrizione ai soli canali abilitati o disabilitati
          required: false
          schema:
            type: boolean
      responses:
        '200':
          description: Lista paginata delle stazioni dell'intermediario
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/listaPaginata'
                  - type: object
                    required:
                      - risultati
                    properties:
                      risultati:
                        type: array
                        items:
                          $ref: '#/components/schemas/stazione'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403' 
        '500':
          $ref: '#/components/responses/500'  
  '/intermediari/{idIntermediario}/stazioni/{idStazione}':
    put:
      tags:
        - Backoffice
      summary: Aggiunge o aggiorna una stazione
      parameters:
        - in: path
          name: idIntermediario
          description: Identificativo dell'intermediario
          required: true
          schema:
            type: string
        - in: path
          name: idStazione
          description: Identificativo della stazione
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/stazionePost'
      responses:
        '200':
          description: Stazione aggiornata
        '201':
          description: Stazione creata
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403' 
        '500':
          $ref: '#/components/responses/500'  
    get:
      tags:
        - Backoffice
      summary: Informazioni di una stazione intermediario
      parameters:
        - in: path
          name: idIntermediario
          description: Identificativo dell'intermediario
          required: true
          schema:
            type: string
        - in: path
          name: idStazione
          description: Identificativo della stazione
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Dettaglio della stazione
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/stazione'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403' 
        '500':
          $ref: '#/components/responses/500'  
  '/domini':
    get:
      tags:
        - Pagamenti
        - Backoffice
      summary: Elenco dei domini beneficiari censiti
      parameters:
        - in: query
          name: pagina
          description: Numero di pagina dei risultati
          required: false
          schema:
            type: integer
            default: 1
        - in: query
          name: risultatiPerPagina
          description: Numero massimo di risultati nella risposta
          required: false
          schema:
            type: integer
            default: 25
            maximum: 200
        - name: ordinamento
          in: query
          description: >-
            csv dei campi su cui ordinare i risultati, preceduti da + o - per ascendente o discendente (default ascendente)
             * ragioneSociale
          required: false
          schema:
            type: string
            format: csv
            default: +ragioneSociale
        - name: campi
          in: query
          description: >-
            csv dei campi da includere nella risposta (default tutti)
          required: false
          schema:
            type: string
            format: csv
        - name: abilitato
          in: query
          description: Restrizione ai soli canali abilitati o disabilitati
          required: false
          schema:
            type: boolean
        - name: idStazione
          in: query
          description: Restrizione ai soli domini associati alla stazione indicata
          required: false
          schema:
            type: string
      responses:
        '200':
          description: Lista paginata dei domini ricercati
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/listaPaginata'
                  - type: object
                    required:
                      - risultati
                    properties:
                      risultati:
                        type: array
                        items:
                          $ref: '#/components/schemas/dominio'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403' 
        '500':
          $ref: '#/components/responses/500'
  '/domini/{idDominio}':
    get:
      tags:
        - Pagamenti
        - Backoffice
      summary: Lettura dei dati di un dominio beneficiario
      parameters:
        - in: path
          name: idDominio
          schema:
            type: string
          description: Codice fiscale del beneficiario
          required: true
      responses:
        '200':
          description: Dettaglio del dominio
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/dominio'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403' 
        '500':
          $ref: '#/components/responses/500'
    put:
      tags:
        - Backoffice
      summary: Aggiunge o aggiorna un dominio beneficiario
      parameters:
        - in: path
          name: idDominio
          schema:
            type: string
          description: Codice fiscale del beneficiario
          required: true
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/dominioPost'
      responses:
        '200':
          description: Dominio creditore aggiornato con successo
        '201':
          description: Dominio creditore aggiunto con successo
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403' 
        '500':
          $ref: '#/components/responses/500'
  '/domini/{idDominio}/unitaOperative':
    get:
      tags:
        - Pagamenti
        - Backoffice
      summary: Elenco delle unità operative del beneficiario
      parameters:
        - name: idDominio
          in: path
          description: Identificativo del dominio
          required: true
          schema:
            type: string
        - in: query
          name: pagina
          description: Numero di pagina dei risultati
          required: false
          schema:
            type: integer
            default: 1
        - in: query
          name: risultatiPerPagina
          description: Numero massimo di risultati nella risposta
          required: false
          schema:
            type: integer
            default: 25
            maximum: 200
        - name: ordinamento
          in: query
          description: >-
            csv dei campi su cui ordinare i risultati, preceduti da + o - per ascendente o discendente (default ascendente)
             * ragioneSociale
          required: false
          schema:
            type: string
            format: csv
            default: +ragioneSociale
        - name: campi
          in: query
          description: >-
            csv dei campi da includere nella risposta (default tutti)
          required: false
          schema:
            type: string
            format: csv
        - name: abilitato
          in: query
          description: Restrizione ai soli canali abilitati o disabilitati
          required: false
          schema:
            type: boolean
      responses:
        '200':
          description: Lista paginata dei domini ricercati
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/listaPaginata'
                  - type: object
                    required:
                      - risultati
                    properties:
                      risultati:
                        type: array
                        items:
                          $ref: '#/components/schemas/unitaOperativa'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403' 
        '500':
          $ref: '#/components/responses/500'
  '/domini/{idDominio}/unitaOperative/{idUnitaOperativa}':
    get:
      tags:
        - Pagamenti
        - Backoffice
      summary: Lettura dei dati di una unità operativa
      parameters:
        - in: path
          name: idDominio
          schema:
            type: string
          description: Codice fiscale del beneficiario
          required: true
        - name: idUnitaOperativa
          in: path
          description: Identificativo dell'unità operativa
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Dettaglio dell'unità operativa
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/unitaOperativa'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403' 
        '500':
          $ref: '#/components/responses/500'
    put:
      tags:
        - Backoffice
      summary: Aggiunge o aggiorna un'unità operativa al dominio beneficiario
      parameters:
        - in: path
          name: idDominio
          schema:
            type: string
          description: Codice fiscale del beneficiario
          required: true
        - in: path
          name: idUnitaOperativa
          schema:
            type: string
          description: Identificativo dell'unita' operativa del dominio beneficiario
          required: true
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/unitaOperativaPost'
      responses:
        '200':
          description: Unità operativa aggiornata con successo
        '201':
          description: Unità operativa aggiunta con successo
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403' 
        '500':
          $ref: '#/components/responses/500'
  '/domini/{idDominio}/ibanAccredito':
    get:
      tags:
        - Backoffice
      summary: Elenco degli iban di accredito del beneficiario
      parameters:
        - name: idDominio
          in: path
          description: Identificativo del dominio
          required: true
          schema:
            type: string      
        - in: query
          name: pagina
          description: Numero di pagina dei risultati
          required: false
          schema:
            type: integer
            default: 1
        - in: query
          name: risultatiPerPagina
          description: Numero massimo di risultati nella risposta
          required: false
          schema:
            type: integer
            default: 25
            maximum: 200
        - name: ordinamento
          in: query
          description: >-
            csv dei campi su cui ordinare i risultati, preceduti da + o - per ascendente o discendente (default ascendente)
             * ragioneSociale
          required: false
          schema:
            type: string
            format: csv
            default: +ibanAccredito
        - name: campi
          in: query
          description: >-
            csv dei campi da includere nella risposta (default tutti)
          required: false
          schema:
            type: string
            format: csv
        - name: abilitato
          in: query
          description: Restrizione ai soli elementi abilitati o disabilitati
          required: false
          schema:
            type: boolean
      responses:
        '200':
          description: Lista paginata dei domini ricercati
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/listaPaginata'
                  - type: object
                    required:
                      - risultati
                    properties:
                      risultati:
                        type: array
                        items:
                          $ref: '#/components/schemas/ibanAccredito'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403' 
        '500':
          $ref: '#/components/responses/500'
  '/domini/{idDominio}/ibanAccredito/{ibanAccredito}':
    get:
      tags:
        - Backoffice
      summary: Lettura dei dati di un iban di accredito
      parameters:
        - in: path
          name: idDominio
          schema:
            type: string
          description: Codice fiscale del beneficiario
          required: true
        - name: ibanAccredito
          in: path
          description: Iban di accredito
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Dettaglio dell'iban di accredito
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ibanAccredito'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403' 
        '500':
          $ref: '#/components/responses/500'
    put:
      tags:
        - Backoffice
      summary: Aggiunge o aggiorna un iban di accredito al dominio beneficiario
      parameters:
        - in: path
          name: idDominio
          schema:
            type: string
          description: Codice fiscale del beneficiario
          required: true
        - in: path
          name: ibanAccredito
          schema:
            type: string
          description: Iban di accredito
          required: true
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ibanAccreditoPost'
      responses:
        '200':
          description: Iban di accredito aggiornato con successo
        '201':
          description: Iban di accredito aggiunto con successo
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403' 
        '500':
          $ref: '#/components/responses/500'
  '/domini/{idDominio}/entrate':
    get:
      tags:
        - Backoffice
      summary: Elenco delle tipologie di entrata del dominio
      parameters:
        - name: idDominio
          in: path
          description: Identificativo del dominio
          required: true
          schema:
            type: string      
        - in: query
          name: pagina
          description: Numero di pagina dei risultati
          required: false
          schema:
            type: integer
            default: 1
        - in: query
          name: risultatiPerPagina
          description: Numero massimo di risultati nella risposta
          required: false
          schema:
            type: integer
            default: 25
            maximum: 200
        - name: ordinamento
          in: query
          description: >-
            csv dei campi su cui ordinare i risultati, preceduti da + o - per ascendente o discendente (default ascendente)
             * idEntrata
          required: false
          schema:
            type: string
            format: csv
            default: +idEntrata
        - name: campi
          in: query
          description: >-
            csv dei campi da includere nella risposta (default tutti)
          required: false
          schema:
            type: string
            format: csv
        - name: abilitato
          in: query
          description: Restrizione ai soli elementi abilitati o disabilitati
          required: false
          schema:
            type: boolean
      responses:
        '200':
          description: Lista paginata delle entrate ricercate
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/listaPaginata'
                  - type: object
                    required:
                      - risultati
                    properties:
                      risultati:
                        type: array
                        items:
                          $ref: '#/components/schemas/entrata'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403' 
        '500':
          $ref: '#/components/responses/500'
  '/domini/{idDominio}/entrate/{idEntrata}':
    get:
      tags:
        - Backoffice
      summary: Lettura dei dati di una entrata
      parameters:
        - in: path
          name: idDominio
          schema:
            type: string
          description: Codice fiscale del beneficiario
          required: true
        - name: idEntrata
          in: path
          description: Identificativo della tipologia di entrata
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Dettaglio dell'entrata
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/entrata'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403' 
        '500':
          $ref: '#/components/responses/500'
    put:
      tags:
        - Backoffice
      summary: Aggiunge o aggiorna una entrata al dominio beneficiario
      parameters:
        - in: path
          name: idDominio
          schema:
            type: string
          description: Codice fiscale del beneficiario
          required: true
        - in: path
          name: idEntrata
          schema:
            type: string
          description: Identificativo della tipologia di entrata
          required: true
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/entrataPost'
      responses:
        '200':
          description: Entrata aggiornata con successo
        '201':
          description: Entrata aggiunta con successo
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403' 
        '500':
          $ref: '#/components/responses/500'
  '/applicazioni':
    get:
      tags:
        - Backoffice
      summary: Elenco delle applicazioni censite su sistema
      parameters:
        - in: query
          name: pagina
          description: Numero di pagina dei risultati
          required: false
          schema:
            type: integer
            default: 1
        - in: query
          name: risultatiPerPagina
          description: Numero massimo di risultati nella risposta
          required: false
          schema:
            type: integer
            default: 25
            maximum: 200
        - name: ordinamento
          in: query
          description: >-
            csv dei campi su cui ordinare i risultati, preceduti da + o - per ascendente o discendente (default ascendente)
             * idA2A
          required: false
          schema:
            type: string
            format: csv
            default: +idA2A
        - name: campi
          in: query
          description: >-
            csv dei campi da includere nella risposta (default tutti)
          required: false
          schema:
            type: string
            format: csv
        - name: abilitato
          in: query
          description: Restrizione ai soli elementi abilitati o disabilitati
          required: false
          schema:
            type: boolean
      responses:
        '200':
          description: Lista paginata delle applicazioni ricercate
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/listaPaginata'
                  - type: object
                    required:
                      - risultati
                    properties:
                      risultati:
                        type: array
                        items:
                          $ref: '#/components/schemas/applicazione'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403' 
        '500':
          $ref: '#/components/responses/500'
  '/applicazioni/{idA2A}':
    get:
      tags:
        - Backoffice
      summary: Lettura dei dati di una applicazione
      parameters:
        - in: path
          name: idA2A
          schema:
            type: string
          description: Identificativo dell'applicazione
          required: true
      responses:
        '200':
          description: Dettaglio dell'applicazione
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/applicazione'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403' 
        '500':
          $ref: '#/components/responses/500'
    put:
      tags:
        - Backoffice
      summary: Aggiunge o aggiorna un'applicazione
      parameters:
        - in: path
          name: idA2A
          schema:
            type: string
          description: Identificativo dell'applicazione
          required: true
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/applicazionePost'
      responses:
        '200':
          description: Applicazione aggiornata con successo
        '201':
          description: Applicazione aggiunta con successo
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403' 
        '500':
          $ref: '#/components/responses/500'
  '/profilo':
    get:
      summary: Elenco dei ruoli associati all'utenza chiamante
      tags:
        - Backoffice
      parameters:
        - in: query
          name: pagina
          description: Numero di pagina dei risultati
          required: false
          schema:
            type: integer
            default: 1
        - in: query
          name: risultatiPerPagina
          description: Numero massimo di risultati nella risposta
          required: false
          schema:
            type: integer
            default: 25
            maximum: 200
      responses:
        '200':
          description: Elenco dei ruoli associati all'utenza chiamante
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ruolo'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403'
        '500':
          $ref: '#/components/responses/500'
  '/ruoli':
    get:
      summary: Elenco dei ruoli censiti su sistema
      description: Fornisce la lista dei ruoli censiti su sistema
      tags:
        - Backoffice
      parameters:
        - in: query
          name: pagina
          description: Numero di pagina dei risultati
          required: false
          schema:
            type: integer
            default: 1
        - in: query
          name: risultatiPerPagina
          description: Numero massimo di risultati nella risposta
          required: false
          schema:
            type: integer
            default: 25
            maximum: 200
        - name: abilitato
          in: query
          description: Restrizione ai soli elementi abilitati o disabilitati
          required: false
          schema:
            type: boolean
      responses:
        '200':
          description: Elenco dei ruoli che rispettano i filtri di ricerca
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ruolo'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403'
        '500':
          $ref: '#/components/responses/500'
  '/ruoli/{idRuolo}':
    put:
      summary: Creazione o aggiornamento di un ruolo
      tags:
        - Backoffice
      parameters:
        - in: path
          name: idRuolo
          description: Identificativo del ruolo
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ruoloPost'
      responses:
        '200':
          description: Ruolo aggiornato
        '201':
          description: Ruolo creato
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403'
        '500':
          $ref: '#/components/responses/500'
    get:
      summary: Lettura di un ruolo
      tags:
        - Backoffice
      parameters:
        - in: path
          name: idRuolo
          description: Identificativo del ruolo
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Elenco dei ruoli che rispettano i filtri di ricerca
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ruolo'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403'
        '404':
          $ref: '#/components/responses/404'  
        '500':
          $ref: '#/components/responses/500'
  '/pagamenti':
    post:
      summary: Avvio di un pagamento di pendenze
      tags:
        - Pagamenti
      description: >-
        L'operazione consente di avviare una sessione di pagamento per una o più
        pendenze. Le pendenze presenti in posizione debitoria possono essere
        riferite tramite identificativo della pendenza del gestionale proprietario 
        (_idA2A_ e _idPendenza_) oppure con l'identificativo avviso (_idDominio_ 
        e _iuv_). Nel caso invece di pendenze note al portale, è possibile
        fornire direttamente i dati della pendenza.<br> Oltre alle pendenze
        viene richiesta la URL a cui il versante viene rediretto al termine del
        processo di pagamento (_urlEsito_).<br> Se il portale gestisce
        nativamente la navigazione verso il WISP per la selezione del PSP con
        cui eseguire il pagamento, è necessario fornire il token di scelta nel
        parametro _tokenWISP_. Se il parametro non viene valorizzato, la
        piattaforma si occuperà di redirigere il versante al portale WISP.<br> I
        parametri del campo opzionale _datiAddebito_ devono essere compilati se
        il versante è abilitato alla realizzazione di pagamenti con addebito
        diretto su un proprio conto.<br> Se il versante è diverso dal debitore,
        è richiesta la compilazione dei dati _soggettoVersante_. Il parametro
        _dataEsecuzionePagamento_ deve essere valorizzato nel caso in cui si
        desideri che il pagamento sia perfezionato in una data futura. Infine il
        parametro _idSessionePortale_ può essere fornito dal portale in fase di
        richiesta per associare alla transazione di pagamento un proprio
        identificativo per facilitare la ricerca del pagamento ed il ripristino
        in caso di anomalie di gestione.
      parameters:
        - in: query
          name: idSessionePortale
          description: Identificativo della sessione di pagamento nel portale.
          required: false
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/pagamentoPost'
      responses:
        '201':
          description: Pagamento creato
          content:
            application/json:
              schema:
                type: object
                required:
                  - id
                  - location
                  - redirect
                properties:
                  id:
                    type: string
                    description: identificativo del pagamento
                    example: 12345
                  location:
                    type: string
                    description: Url del dettaglio del pagamento
                    example: /pagamenti/12345
                  redirect:
                    type: string
                    description: >-
                      url a cui redirigere il navigatore per proseguire nel
                      pagamento.
                    example: >-
                      https://www.comune.it/pagopa/pap/bdd07392-d90d-11e7-9296-cec278b6b50a
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403'
        '500':
          $ref: '#/components/responses/500'
        '502':
          $ref: '#/components/responses/502'
    get:
      summary: Lista dei pagamenti
      tags:
        - Pagamenti
        - Backoffice
      parameters:
        - in: query
          name: pagina
          description: Numero di pagina dei risultati
          required: false
          schema:
            type: integer
            default: 1
        - in: query
          name: risultatiPerPagina
          description: Numero massimo di risultati nella risposta
          required: false
          schema:
            type: integer
            default: 25
            maximum: 200
        - name: ordinamento
          in: query
          description: >-
            csv dei campi su cui ordinare i risultati, preceduti da + o - per ascendente o discendente (default ascendente)
             * dataRichiestaPagamento
             * stato
          required: false
          schema:
            type: string
            format: csv
            default: +dataRichiestaPagamento
        - name: campi
          in: query
          description: >-
            csv dei campi da includere nella risposta (default tutti)
          required: false
          schema:
            type: string
            format: csv
        - in: query
          name: stato
          description: Filtro sullo stato del pagamento
          required: false
          schema:
            $ref: '#/components/schemas/statoPagamento'
        - in: query
          name: versante
          description: Filtro sul codice fiscale del versante
          required: false
          schema:
            type: string
            example: 'RSSMRA30A01H501I'
        - in: query
          name: idSessionePortale
          description: Filtro sull'identificativo di sessione assegnato dal chiamante
          required: false
          schema:
            type: string
            example: 'c8be909b-2feb-4ffa-8f98-704462abbd1d'
      responses:
        '200':
          description: Elenco dei pagamenti da portale
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/listaPaginata'
                  - type: object
                    required:
                      - risultati
                    properties:
                      risultati:
                        type: array
                        items:
                          $ref: '#/components/schemas/pagamento'
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403'
        '500':
          $ref: '#/components/responses/500'
        '502':
          $ref: '#/components/responses/502'
  '/pagamenti/{id}':
    get:
      summary: Dettaglio di un pagamento
      tags:
        - Pagamenti
        - Backoffice
      parameters:
        - in: path
          name: id
          description: Identificativo del pagamento
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Dettaglio del pagamento
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/pagamento'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403'
        '404':
          $ref: '#/components/responses/400'
        '500':
          $ref: '#/components/responses/500'
  '/pendenze':
    get:
      summary: Elenco delle pendenze
      description: Fornisce la lista delle pendenze filtrata ed ordinata.
      tags:
        - Pagamenti
        - Pendenze
        - Backoffice
      parameters:
        - in: query
          name: pagina
          description: Numero di pagina dei risultati
          required: false
          schema:
            type: integer
            default: 1
        - in: query
          name: risultatiPerPagina
          description: Numero massimo di risultati nella risposta
          required: false
          schema:
            type: integer
            default: 25
            maximum: 200
        - name: ordinamento
          in: query
          description: >-
            csv dei campi su cui ordinare i risultati, preceduti da + o - per ascendente o discendente (default ascendente)
             * dataCaricamento
             * dataScadenza
             * dataValidita
             * stato
          required: false
          schema:
            type: string
            format: csv
            default: +dataRichiestaPagamento
        - name: campi
          in: query
          description: >-
            csv dei campi da includere nella risposta (default tutti)
          required: false
          schema:
            type: string
            format: csv
        - name: idDominio
          in: query
          description: filtro per dominio creditore
          required: false
          schema:
            type: string
        - name: idA2A
          in: query
          description: filtro per gestionale
          required: false
          schema:
            type: string
        - name: idDebitore
          in: query
          description: filtro per codice fiscale o p. iva del soggetoto debitore
          required: false
          schema:
            type: string
        - name: stato
          in: query
          description: filtro sullo stato della pendenza
          required: false
          schema:
            $ref: '#/components/schemas/statoPendenza'
      responses:
        '200':
          description: Elenco delle pendenze che rispettano i filtri di ricerca
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/listaPaginata'
                  - type: object
                    required:
                      - risultati
                    properties:
                      risultati:
                        type: array
                        items:
                          $ref: '#/components/schemas/pendenza'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403'
        '500':
          $ref: '#/components/responses/500'
  '/pendenze/{idA2A}/{idPendenza}':
    get:
      summary: Dettaglio di una pendenza per identificativo
      description: >-
        Acquisisce il dettaglio di una pendenza, comprensivo dei dati di
        pagamento.
      tags:
        - Pagamenti
        - Pendenze
        - Backoffice
      parameters:
        - in: path
          name: idA2A
          description: Identificativo del gestionale
          required: true
          schema:
            type: string
        - in: path
          name: idPendenza
          description: Identificativo della pendenza
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Informazioni dettagliate della pendenza
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/pendenza'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
    put:
      tags:
        - Pendenze
        - Backoffice
      summary: Creazione o aggiornamento di una pendenza
      description: >-
        Per ciascuna pendenza viene richiesto un identificativo (_idPendenza_)
        valido per il gestionale che ne effettua il caricamento (_idA2A_).
        L'operazione è idempotente rispetto a questo identificativo e nel caso
        venga eseguito il caricamento di una pendenza con un identificativo già
        presente nell'archivio di GovPay, questa sarà gestita come un
        aggiornamento. <br/> Ciascuna pendenza può
        essere composta da più voci fino ad un massimo di cinque, ciascuna
        avente un identificativo _idVocePendenza_ assegnato dal gestionale come
        riferimento interno. Ciasuna voce può distinguere i riferimenti
        contabili e l'iban di accredito oppure gli estremi per il pagamento di
        una marca da bollo telematica. Qualora una pendenza disponga più di una
        voce, per vincolo del circuito PagoPA non sarà possibile disporne il
        pagamento secondo il modello 3 pertanto non sarà generato uno IUV per la
        stampa dell'avviso
      parameters:
        - in: path
          name: idA2A
          description: Identificativo del gestionale
          required: true
          schema:
            type: string
        - in: path
          name: idPendenza
          description: Identificativo della pendenza
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/pendenzaPost'
      responses:
        '200':
          description: Pendenza aggiornata con successo
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/avviso'
        '201':
          description: Pendenza creata con successo
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/avviso'
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403'
        '500':
          $ref: '#/components/responses/500'
    patch:
      description: >-
        L'aggiornamento dello stato di una pendenza in `Annullata` può essere completato solo se la pendenza si trova in stato `Da pagare`. Viceversa il ripristino dello stato `Da pagare` può essere disposto solo in caso di pendenza `Annullata`.
        L'aggiornamento è consentito solo se di dispone di ACL per il servizio Pendenze di tipo scrittura. 
      tags:
        - Pendenze
        - Backoffice
      summary: Annullamento o ripristino di una pendenza
      parameters:
        - in: path
          name: idA2A
          description: Identificativo del gestionale
          required: true
          schema:
            type: string
        - in: path
          name: idPendenza
          description: Identificativo della pendenza
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              required:
              - stato
              properties:
                stato:
                  description: Nuovo stato della pendenza
                  example: Annullata
                  type: string
                  enum:
                    - Non pagata
                    - Annullata
                descrizioneStato:
                  description: Causale del cambio di stato.
                  example: Annullata
                  type: string
      responses:
        '200':
          description: Pendenza aggiornata con successo
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
  '/rpt':
    get:
      summary: Lista delle richieste di pagamento
      tags:
        - Pagamenti
        - Backoffice
        - Pendenze
      parameters:
        - in: query
          name: pagina
          description: Numero di pagina dei risultati
          required: false
          schema:
            type: integer
            default: 1
        - in: query
          name: risultatiPerPagina
          description: Numero massimo di risultati nella risposta
          required: false
          schema:
            type: integer
            default: 25
            maximum: 200
        - name: ordinamento
          in: query
          description: >-
            csv dei campi su cui ordinare i risultati, preceduti da + o - per ascendente o discendente (default ascendente)
             * dataRichiesta
             * esito
          required: false
          schema:
            type: string
            format: csv
            default: +dataRichiesta
        - name: campi
          in: query
          description: >-
            csv dei campi da includere nella risposta (default tutti)
          required: false
          schema:
            type: string
            format: csv
        - in: query
          name: idDominio
          description: Codice fiscale del dominio beneficiario
          required: false
          schema:
            type: string
        - in: query
          name: iuv
          description: Identificativo univoco di versamento
          required: false
          schema:
            type: string
        - in: query
          name: ccp
          description: codice contesto pagamento
          required: false
          schema:
            type: string
        - in: query
          name: idA2A
          description: Codice del gestionale proprietario della pendenza
          required: false
          schema:
            type: string
        - in: query
          name: idPendenza
          description: Identrificativo della pendenza nel gestionale proprietario
          required: false
          schema:
            type: string
        - in: query
          name: esito
          description: esito della richiesta di pagamento
          required: false
          schema:
            $ref: '#/components/schemas/esitoRpt'
      responses:
        '200':
          description: Lista delle richieste di pagamento che rispettano i criteri di ricerca
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/listaPaginata'
                  - type: object
                    required:
                      - risultati
                    properties:
                      risultati:
                        type: array
                        items:
                          $ref: '#/components/schemas/rpt'            
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403'
        '500':
          $ref: '#/components/responses/500'
  '/rpt/{idDominio}/{iuv}/{ccp}':
    get:
      summary: Dettaglio di una richiesta di pagamento
      tags:
        - Pagamenti
        - Backoffice
        - Pendenze
      parameters:
        - in: path
          name: idDominio
          description: Codice fiscale del dominio beneficiario
          required: true
          schema:
            type: string
        - in: path
          name: iuv
          description: Identificativo univoco di versamento
          required: true
          schema:
            type: string
        - in: path
          name: ccp
          description: Codice di contesto pagamento
          required: true
          schema:
            type: string
      responses:
        '201':
          description: Dettaglio della richiesta di pagamento
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/rpt'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403'
        '404':
          $ref: '#/components/responses/400'
        '500':
          $ref: '#/components/responses/500'         
  '/rpt/{idDominio}/{iuv}/{ccp}/rt':
    get:
      summary: Acquisizione della ricevuta di pagamento
      tags:
        - Pagamenti
        - Pendenze
        - Backoffice
      parameters:
        - in: path
          name: idDominio
          description: Codice fiscale del dominio beneficiario
          required: true
          schema:
            type: string
        - in: path
          name: iuv
          description: Identificativo univoco di versamento
          required: true
          schema:
            type: string
        - in: path
          name: ccp
          description: Codice di contesto pagamento
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Ricevuta di pagamento
          content:
            application/pdf:
              schema:
                type: string
                format: binary
                example: stampa della ricevuta
            application/xml:
              schema:
                type: string
                example: xml della ricevuta
            application/json:
              schema:
                type: string
                example: conversione json della ricevuta
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500' 
  '/avvisi/{idDominio}/{numeroAvviso}':
    get:
      summary: Avviso di pagamento
      description: >-
        Fornisce un avviso di pagamento o la pendenza ad esso associata
      tags:
        - Pagamenti
        - Backoffice
      parameters:
        - in: path
          name: idDominio
          description: Identificativo del dominio dell'ente
          required: true
          schema:
            type: string
        - in: path
          name: numeroAvviso
          description: Identificativo dell'Avviso di Pagamento
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Avviso di pagamento
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/avviso'
            application/pdf:
              schema:
                type: string
                format: binary
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
  '/riscossioni':
    get:
      summary: Elenco dei pagamenti riscossi
      tags:
        - Ragioneria
      description: Fornisce la lista delle pendenze filtrata ed ordinata.
      parameters:
        - in: query
          name: pagina
          description: Numero di pagina dei risultati
          required: false
          schema:
            type: integer
            default: 1
        - in: query
          name: risultatiPerPagina
          description: Numero massimo di risultati nella risposta
          required: false
          schema:
            type: integer
            default: 25
            maximum: 200
        - name: ordinamento
          in: query
          description: >-
            csv dei campi su cui ordinare i risultati, preceduti da + o - per ascendente o discendente (default ascendente)
             * data
             * stato
          required: false
          schema:
            type: string
            format: csv
            default: +dataRiscossione
        - name: campi
          in: query
          description: >-
            csv dei campi da includere nella risposta (default tutti)
          required: false
          schema:
            type: string
            format: csv
        - name: idDominio
          in: query
          description: filtro per codice fiscale creditore
          required: false
          schema:
            type: string
        - in: query
          name: idA2A
          description: Codice del gestionale proprietario della pendenza
          required: false
          schema:
            type: string
        - in: query
          name: idPendenza
          description: Identrificativo della pendenza nel gestionale proprietario
          required: false
          schema:
            type: string
        - in: query
          name: stato
          description: filtro sullo stato della riscossione
          required: false
          schema:
            $ref: '#/components/schemas/statoRiscossione'
      responses:
        '201':
          description: Dettaglio della riscossione
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/riscossione'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403'
        '404':
          $ref: '#/components/responses/400'
        '500':
          $ref: '#/components/responses/500'        
  '/riscossioni/{idDominio}/{iuv}/{iur}/{indice}':
    get:
      summary: Dettaglio di una riscossione
      tags:
        - Ragioneria
      parameters:
        - in: path
          name: idDominio
          description: Codice fiscale del dominio beneficiario
          required: true
          schema:
            type: string
        - in: path
          name: iuv
          description: Identificativo univoco di versamento
          required: true
          schema:
            type: string
        - in: path
          name: iur
          description: Identificativo univoco di riscossione
          required: true
          schema:
            type: string
        - in: path
          name: indice
          description: Identificativo univoco di riscossione
          required: true
          schema:
            type: string            
      responses:
        '201':
          description: Dettaglio della riscossione
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/riscossione'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403'
        '404':
          $ref: '#/components/responses/400'
        '500':
          $ref: '#/components/responses/500'
  '/rendicontazione':
    get:
      summary: Elenco delle rendicontazioni acquisite da PagoPa
      tags:
        - Ragioneria
      parameters:
        - in: query
          name: pagina
          description: Numero di pagina dei risultati
          required: false
          schema:
            type: integer
            default: 1
        - in: query
          name: risultatiPerPagina
          description: Numero massimo di risultati nella risposta
          required: false
          schema:
            type: integer
            default: 25
            maximum: 200
        - name: idDominio
          in: query
          description: filtro per dominio creditore
          required: false
          schema:
            type: string
      responses:
        '201':
          description: Dettaglio della rendicontazione
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/flussoRendicontazione'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403'
        '404':
          $ref: '#/components/responses/400'
        '500':
          $ref: '#/components/responses/500'
  '/rendicontazione/{idFlusso}':
    get:
      summary: Acquisizione di un flusso di rendicontazione
      tags:
        - Ragioneria
      parameters:
        - in: path
          name: idFlusso
          description: Identificativo del flusso di rendicontazione
          required: true
          schema:
            type: string
      responses:
        '201':
          description: Dettaglio della rendicontazione
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/flussoRendicontazione'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403'
        '404':
          $ref: '#/components/responses/400'
        '500':
          $ref: '#/components/responses/500'
  '/incassi':
    post:
      summary: Registrazione di in incasso
      tags:
        - Ragioneria
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/incassoPost'
      responses:
        '201':
          description: Incasso registrato
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/incasso'
        '400':
          $ref: '#/components/responses/400'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403'
        '500':
          $ref: '#/components/responses/500'
    get:
      summary: Elenco degli incassi registrati
      tags:
        - Ragioneria
      parameters:
        - in: query
          name: pagina
          description: Numero di pagina dei risultati
          required: false
          schema:
            type: integer
            default: 1
        - in: query
          name: risultatiPerPagina
          description: Numero massimo di risultati nella risposta
          required: false
          schema:
            type: integer
            default: 25
            maximum: 200
      responses:
        '201':
          description: Dettaglio dell'incasso
          content:
            application/json:
              schema:
              
                $ref: '#/components/schemas/incasso'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403'
        '500':
          $ref: '#/components/responses/500'
  '/incassi/{id}':
    get:
      summary: Acquisizione dei dati di un incasso
      tags:
        - Ragioneria
      parameters:
        - in: path
          name: id
          description: Identificativo dell'incasso
          required: true
          schema:
            type: string
      responses:
        '201':
          description: Dettaglio dell'incasso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/incasso'
        '401':
          $ref: '#/components/responses/401'
        '403':
          $ref: '#/components/responses/403'
        '404':
          $ref: '#/components/responses/404'
        '500':
          $ref: '#/components/responses/500'
security:
  - basicAuth: []
components:
  securitySchemes:
    basicAuth:    
      type: http
      scheme: basic
  responses:
    '400':
      description: Richiesta non correttamente formata
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/faultBean'
          example:
            categoria: RICHIESTA
            codice: INTERNO
            descrizione: Servizio non disponibile
    '401':
      description: Richiesta non autenticata
    '403':
      description: Richiesta non autorizzata
    '404':
      description: Risorsa inesistente
    '500':
      description: Servizio non disponibile
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/faultBean'
          example:
            categoria: INTERNO
            codice: INTERNO
            descrizione: Servizio non disponibile
    '502':
      description: Rilevato errore con la piattaforma PagoPA
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/faultBean'
          example:
            categoria: PAGOPA
            codice: PPT_CANALE_IRRAGGIUNGIBILE
            descrizione: Errore di connessione verso il canale
  schemas:
    faultBean:
      type: object
      required:
        - categoria
        - codice
        - descrizione
      properties:
        categoria:
          type: string
          description: >-
            Categoria dell'errore riscontrato:
             * `AUTORIZZAZIONE` - Operazione non autorizzata
             * `RICHIESTA` - Richiesta non valida
             * `OPERAZIONE` - Operazione non eseguibile
             * `PAGOPA` - Errore da PagoPA
             * `INTERNO` - Errore interno
          enum:
            - AUTORIZZAZIONE
            - RICHIESTA
            - OPERAZIONE
            - PAGOPA
            - INTERNO
        codice:
          type: string
          description: Codice di errore
        descrizione:
          type: string
          description: Descrizione dell'errore
        dettaglio:
          type: string
          description: Descrizione aggiuntiva
      example:
        categoria: INTERNO
        codice: INTERNO
        descrizione: Servizio non disponibile
    intermediarioPost:
      type: object
      required:
        - denominazione
        - pagopaConnector
      properties:
        denominazione:
          type: string
          description: Ragione sociale dell'intermediario PagoPA
          example: Intermediario PagoPA
        principalPagoPa:
          type: string
          description: Principal autenticato le richieste ricevute da PagoPA
        servizioPagoPa:
          $ref: '#/components/schemas/connector'   
        abilitato:
          type: boolean
          description: Indica lo stato di abilitazione
          example: true
    intermediario:
      type: object
      allOf:
        - type: object
          required:
            - idIntermediario
          properties:
            idIntermediario:
              type: string
              description: Identificativo dell'intermediario
              example: 9999999999
        - $ref: '#/components/schemas/intermediarioPost'  
        - type: object
          required:
            - stazioni
          properties:
            stazioni:
              type: string
              description: Url alla lista delle stazioni dell'intermediario
              example: '/intermediari/9999999999/stazioni'
    stazionePost:
      type: object
      required:
        - password
        - abilitato
      properties:
        password:
          type: string
          description: Ragione sociale dell'intermediario PagoPA
          example: 123456
        abilitato:
          type: boolean
          description: Indica lo stato di abilitazione
    stazione:
      type: object
      allOf:
        - type: object
          required:
            - idStazione
          properties:
            idStazione:
              type: string
              description: Identificativo della stazione
              example: '9999999999_01'
        - $ref: '#/components/schemas/stazionePost'  
        - type: object
          required:
            - domini
          properties:
            domini:
              type: string
              description: Url alla lista dei domini della stazione
              example: '/domini?stazione=9999999999_01'
    dominioPost:
      type: object
      required:
       - ragioneSociale
       - gln
       - stazione
       - abilitato
      properties:
        ragioneSociale:
          type: string
          description: Ragione sociale del beneficiario
          example: Ente Creditore
        indirizzo:
          type: string
          description: Indirizzo del beneficiario
          example: Corso Italia
        civico:
          type: string
          description: Numero civico del beneficiario
          example: 1A
        cap:
          type: string
          description: Codice avviamento postale del beneficiario
          example: 00000
        localita:
          type: string
          description: Località del beneficiario
          example: Roma
        gln:
          type: string
          description: Global location number del beneficiario
          example: 0011223344556
        iuvPrefix:
          type: string
          description: Prefisso negli IUV generati da GovPay
          example: '%(yyyy)%(a)'
        stazione:
          type: string
          description: Codice stazione PagoPA che intermedia il beneficiario
          example: 01234567890_01
        auxDigit:
          type: string
          description: Valore della prima cifra dei Numero Avviso generati da GovPay
          example: 0
        segregationCode:
          type: string
          description: Codice di segregazione utilizzato in caso di beneficiario pluri-intermediato (auxDigit = 3)
          example: Ente Creditore
        logo:
          type: string
          description: Base64 del logo del beneficiario
          example: /9j/4AA...base64...FFFFABRRRQB/9k=
        abilitato:
          type: boolean
          description: Indicazione se il creditore è abilitato ad operare sulla piattaforma
          example: 'true'
    dominio:
      type: object
      allOf:
        - type: object
          required:
            - idDominio
          properties:
            idDominio:
              type: string
              description: Codice fiscale del beneficiario
              example: 01234567890
        - $ref: '#/components/schemas/dominioPost'
        - type: object
          properties:
            unitaOperative:
              type: string
              description: Url alle unità operative censite per il dominio
              example: /domini/01234567890/unitaOperative
            ibanAccredito:
              type: string
              description: Iban di accredito censiti per il dominio beneficiario
              example: /domini/01234567890/ibanAccredito
            entrate:
              type: string
              description: Tipologie di entrata censite per il dominio beneficiario
              example: /domini/01234567890/entrate
    applicazionePost:
      type: object
      required:
        - principal
        - ruoli
      properties:
        principal:
          type: string
          description: Identificativo di autenticazione
          example: aaa12345
        codificaIUV:
          type: number
          description: Cifra identificativa negli IUV
          example: 01
        urlRitornoPortale:
          type: string
          description: Default url di ritorno dal pagamento
          example: 'http://www.entecreditore.it/portale/ritorno'
        servizioVerifica:
          $ref: '#/components/schemas/connector'   
        servizioNotifica:
          $ref: '#/components/schemas/connector'   
        abilitato:
          type: boolean
          description: Indicazione se il creditore è abilitato ad operare sulla piattaforma
          example: 'true'
        ruoli:
          type: array
          description: ruoli associati all'utenza applicativa
          items: 
            type: string
    applicazione:
      type: object
      allOf:
        - type: object
          required:
            - idA2A
          properties:
            idDominio:
              type: string
              description: Identificativo dell'applicazione
              example: A2A-12345
        - $ref: '#/components/schemas/applicazionePost'
    unitaOperativaPost:
      type: object
      required: 
        - ragioneSociale
      properties:
        ragioneSociale:
          type: string
          description: Ragione sociale dell'unita
          example: Ufficio due
        indirizzo:
          type: string
          description: Indirizzo dell'unita
          example: Borgo stretto
        civico:
          type: string
          description: Numero civico dell'unita
          example: 55bis
        cap:
          type: string
          description: Codice avviamento postale dell'unita
          example: 99999
        localita:
          type: string
          description: Località dell'unita
          example: Milano
    unitaOperativa:
      type: object
      allOf:
        - type: object
          required:
           - idUnita
          properties:
            idUnita:
              type: string
              description: Codice fiscale dell'unita
              example: 01234567890
        - $ref: '#/components/schemas/unitaOperativaPost'
    ibanAccreditoPost:
      type: object
      properties:
        bicAccredito:
          type: string
          example: DABAIE2D
        ibanAppoggio:
          type: string
          example: IT60X0542811101000000123456
        bicAppoggio:
          type: string
          example: DABAIE2D
        postale:
          type: boolean
          description: indica se e' un c/c postale
          example: false
          default: false
        mybank:
          type: boolean
          description: indica se e' un iban abilitato sul circuito mybank
          example: false
          default: false
        abilitato:
          type: boolean
          description: Indicazione se il creditore è abilitato ad operare sulla piattaforma
          example: true
          default: true
    ibanAccredito:
      type: object
      allOf:
        - type: object
          required:
           - idUnita
          properties:
            ibanAccredito:
              type: string
              example: IT60X0542811101000000123456
        - $ref: '#/components/schemas/ibanAccreditoPost'
    entrataPost:
      type: object
      required: 
        - descrizione
        - tipoContabilita
        - codiceContabilita
      properties:
        descrizione:
          type: string
          example: Imposta municipale urbana
        ibanAccredito:
          type: string
          example: IT60X0542811101000000123456
        tipoContabilita:
          description: Tipologia di codifica del capitolo di bilancio
          type: string
          enum:
            - Entrata
            - Speciale
            - SIOPE
            - Altro
          example: SIOPE
        codiceContabilita:
          description: Codifica del capitolo di bilancio
          type: string
          example: 3321
        codificaIUV:
          type: number
          description: Cifra identificativa negli IUV
          example: 01
    entrata:
      type: object
      allOf:
        - type: object
          required:
           - idUnita
          properties:
            entrata:
              type: string
              example: IMU
        - $ref: '#/components/schemas/entrataPost'
    pagamentoPost: 
      type: object
      required:
        - urlRitorno
        - pendenze
      properties:
        urlRitorno:
          type: string
          description: >-
            url di ritorno al portale al termine della sessione di pagamento
          example: >-
            https://www.comune.it/pagamentopagopa/abcd-efgh-ijklm-12345
        pendenze:
          type: array
          description: pendenze o riferimenti alle pendenze oggetto del pagamento
          items:
            anyOf:
              - type: object
                required:
                  - idA2A
                  - idPendenza
                properties:
                  idA2A:
                    type: string
                    description: >-
                      Identificativo del gestionale responsabile della
                      pendenza
                    example: A2A_12345
                  idPendenza:
                    type: string
                    description: >-
                      Identificativo della pendenza nel gestionale
                      responsabile
                    example: abcdef12345
              - type: object
                required:
                  - idDominio
                  - iuv
                properties:
                  idDominio:
                    type: string
                    description: Codice fiscale dell'ente creditore
                    example: 01234567890
                  iuv:
                    type: string
                    description: >-
                      Identificativo univoco versamento, assegnato se
                      pagabile da psp
                    example: 123456789012345
              - allOf:
                - type: object
                  required:
                    - idA2A
                    - idPendenza
                  properties:
                    idA2A:
                      type: string
                      description: Identificativo del gestionale responsabile della pendenza
                      example: A2A_12345
                    idPendenza:
                      type: string
                      description: Identificativo della pendenza nel gestionale responsabile
                      example: abcdef12345
                - $ref: '#/components/schemas/pendenza'
          example:
            - idA2A: A2A_12345
              idPendenza: abcdef12345
            - idDominio: 01234567890
              iuv: 123456789012345
            - idA2A: A2A_12345
              idPendenza: abcdef7890
              idDominio: 01234567890
              idUnitaOperativa: UO33132
              soggettoPagatore:
                tipo: M
                identificativo: RSSMRA30A01H501I
                anagrafica: Mario Rossi
                indirizzo: Piazza della Vittoria
                civico: 10/A
                cap: 10001
                localita: Roma
                provincia: Roma
                nazione: IT
                email: mario.rossi@host.eu
                cellulare: 39000123456789
              importo: 10.01
              causale: Sanzione CdS n. abc00000
              dataEmissione: '2017-12-31'
              dataValidita: '2018-6-30'
              dataScadenza: '2018-12-31'
              tassonomia: Sanzioni
              voci:
                - indice: 1
                  idVocePendenza: abcdef7890_1
                  importo: 10.01
                  descrizione: Sanzione CdS n. abc00000
                  tipoContabilita: SIOPE
                  codiceContabilita: 10100001001
                  ibanAccredito: IT02L1234512345123456789012
        tokenWISP:
          type: object
          description: >-
            Identificativo della scelta effettuata dal WISP se,
            al momento del pagamento, il versante ha gia' eseguito 
            la scelta del PSP sul WISP.
          required:
            - idDominio
            - keyPA
            - keyWISP
          properties:
            idDominio:
              type: string
              description: >-
                Codice fiscale dell'ente creditore utilizzato per la
                scelta WISP
              example: 01234567890
            keyPA:
              type: string
              description: >-
                Identificativo della scelta WISP assegnato dal Portale
                di pagamento
              example: keyPA
            keyWISP:
              type: string
              description: Identificativo della scelta WISP assegnato dal WISP
              example: keyWISP
        datiAddebito:
          type: object
          description: >-
            Dati necessari alla realizzazione dei pagamenti per Addebito
            Diretto, se previsto dal profilo del versante.
          required:
            - ibanAddebito
          properties:
            ibanAddebito:
              type: string
              description: Iban di addebito del pagatore.
              example: IT02L1234512345123456789012
            bicAddebito:
              type: string
              description: Bic della banca di addebito del pagatore.
              example: MYBICODE
        dataEsecuzionePagamento:
          type: string
          format: date
          example: '2018-12-31'
          description: >-
            data in cui si richiede che venga effettuato il pagamento, se diversa dalla data corrente.
        credenzialiPagatore:
          type: string
          description: >-
            Eventuali credenziali richieste dal PSP necessarie per
            completare l'operazione (ad esempio un codice bilaterale
            utilizzabile una sola volta).
        soggettoVersante:
          $ref: '#/components/schemas/soggetto'
        autenticazioneSoggetto:
          type: string
          enum:
            - CNS
            - USR
            - OTH
            - N/A
          description: modalita' di autenticazione del soggetto versante
        lingua:
          type: string
          description: Indica il codice della lingua da utilizzare per l’esposizione delle pagine web.
          enum:
            - IT
            - EN
            - FR
            - DE
            - SL
          default: IT
          example: IT  
    pagamento:
      type: object
      required:
        - id
        - dataRichiestaPagamento
        - stato
      properties:
        id:
          type: string
          example: 'f9866575-e255-4d10-9845-57ba88bec136'
          description: Identificativo del pagamento assegnato da GovPay
        idSessionePortale:
          type: string
          example: 'c8be909b-2feb-4ffa-8f98-704462abbd1d'
          description: Identificativo del pagamento assegnato dal portale chiamante
        idSessionePsp:
          type: string
          example: '7f905970-cfe9-4ee5-a9a7-81fe14e7437e'
          description: Identificativo del pagamento assegnato dal psp utilizzato
        nome:
          type: string
          example: 'Pagamento sanzione CdS n. 0912873564'
          description: Nome del pagamento da visualizzare all'utente.
        stato:
          $ref: '#/components/schemas/statoPagamento'
        pspRedirectUrl:
          type: string
          example: 'https://www.psp.it/payment?sessionId=7f905970-cfe9-4ee5-a9a7-81fe14e7437e'
          description: Url di redirect al psp inviata al versante per perfezionare il pagamento, se previsto dal modello
        dataRichiestaPagamento:
          type: string
          format: date
          example: '2018-12-31T23:12:34.123'
          description: Data e ora di avvio del pagamento
        datiAddebito:
          type: object
          description: >-
            Dati necessari alla realizzazione dei pagamenti per Addebito
            Diretto, se previsto dal profilo del versante.
          required:
            - ibanAddebito
          properties:
            ibanAddebito:
              type: string
              description: Iban di addebito del pagatore.
              example: IT02L1234512345123456789012
            bicAddebito:
              type: string
              description: Bic della banca di addebito del pagatore.
              example: MYBICODE
        dataEsecuzionePagamento:
          type: string
          format: date
          example: '2018-12-31'
          description: >-
            data in cui si richiede che venga effettuato il pagamento, se diversa dalla data corrente.
        credenzialiPagatore:
          type: string
          description: >-
            Eventuali credenziali richieste dal PSP necessarie per
            completare l'operazione (ad esempio un codice bilaterale
            utilizzabile una sola volta).
        soggettoVersante:
          $ref: '#/components/schemas/soggetto'
        autenticazioneSoggetto:
          type: string
          enum:
            - CNS
            - USR
            - OTH
            - N/A
          description: modalita' di autenticazione del soggetto versante
        canale:
          type: string
          description: Url per il canale di pagamento utilizzato
          example: '/psp/ABI12345/canali/ABI12345_1'  
        pendenze:
          type: string
          description: Url per le pendenze oggetto del Pagamento
          example: '/pendenze?idPagamento=f9866575-e255-4d10-9845-57ba88bec136'  
        rpts:
          type: string
          description: Url oer le richieste di pagamento oggetto del Pagamento
          example: '/rpts?idPagamento=f9866575-e255-4d10-9845-57ba88bec136'
    pendenzaPost:
      type: object
      required:
        - idDominio
        - soggettoPagatore
        - importo
        - causale
        - tassonomia
        - voci
      properties:
        idDominio:
          type: string
          description: Identificativo del dominio creditore
          example: 1234567890
        idUnitaOperativa:
          type: string
          description: Identificativo dell'unita' operativa
          example: UO33132
        cartellaPagamento:
          type: string
          description: >-
            Identificativo della cartella di pagamento a cui afferisce la
            pendenza
          example: ABC00000001
        soggettoPagatore:
          $ref: '#/components/schemas/soggetto'
        importo:
          type: number
          description: >-
            Importo della pendenza. Deve corrispondere alla somma delle singole
            voci.
          example: 10.01
        causale:
          type: string
          description: descrizione della causale del versamento.
          example: Sanzione CdS n. abc00000
        dataValidita:
          type: string
          format: date
          description: >-
            Data di validita dei dati della pendenza, decorsa la quale la
            pendenza può subire variazioni.
          example: '2019-12-31'
        dataScadenza:
          type: string
          format: date
          description: >-
            Data di scadenza della pendenza, decorsa la quale non è più
            pagabile.
          example: '2020-12-31'
        annoRiferimento:
          type: number
          description: Anno di riferimento della pendenza
          example: 2020
        datiAllegati:
          type: string
          description: >-
            Dati applicativi allegati dal gestionale secondo un formato
            proprietario.
        tassonomia:
          type: string
          description: Macro categoria della pendenza
          example: Sanzioni
        voci:
          type: array
          minItems: 1
          maxItems: 5
          items:
            $ref: '#/components/schemas/vocePendenza'
    pendenza:
      type: object
      required:
        - idA2A
        - idPendenza
        - dominio
        - nome
        - stato
        - importo
        - dataCaricamento
        - soggettoPagatore
        - causale
        - tassonomiaAvviso
        - voci
      properties:
        idA2A:
          type: string
          description: Identificativo del gestionale responsabile della pendenza
          example: A2A-12345
        idPendenza:
          type: string
          description: Identificativo della pendenza nel gestionale responsabile
          example: abcdef12345
        dominio:
          type: string
          description: Url per il dominio creditore
          example: '/domini/1234567890'
        unitaOperativa:
          type: string
          description: Url per l'unita operativa creditrice
          example: '/domini/1234567890/unitaOperative/12345'
        soggettoPagatore:
          $ref: '#/components/schemas/soggetto'
        stato:
          $ref: '#/components/schemas/statoPendenza'
        importo:
          type: number
          description: >-
            Importo della pendenza. Deve corrispondere alla somma delle singole
            voci.
          example: 10.01
        numeroAvviso:
          type: string
          description: 'Identificativo univoco versamento, assegnato se pagabile da psp'
          example: 123456789012345
        dataCaricamento:
          type: string
          format: date
          description: Data di emissione della pendenza
          example: '2010-12-31'
        dataValidita:
          type: string
          format: date
          description: >-
            Data di validita dei dati della pendenza, decorsa la quale la
            pendenza può subire variazioni.
          example: '2019-12-31'
        dataScadenza:
          type: string
          format: date
          description: >-
            Data di scadenza della pendenza, decorsa la quale non è più
            pagabile.
          example: '2020-12-31'
        annoRiferimento:
          type: number
          description: Anno di riferimento della pendenza
          example: 2020
        nome:
          type: string
          description: Nome della pendenza da visualizzare sui portali di pagamento e console di gestione.
          example: 'Immatricolazione AA 2017/2018'
        causale:
          type: string
          description: Descrizione da inserire nell'avviso di pagamento
          example: 'Sanzione CdS n. abc00000'
        tassonomiaAvviso:
          type: string
          description: Macro categoria della pendenza secondo la classificazione AgID
          example: Sanzioni
        tassonomia:
          type: string
          description: Macro categoria della pendenza secondo la classificazione del creditore
          example: Sanzioni
        voci:
          type: array
          minItems: 1
          maxItems: 5
          items:
            $ref: '#/components/schemas/vocePendenza'
        rpts:
          type: string
          description: Url per l'elenco delle rpt emesse per la pendenza
          example: '/rpt?idPendenza=abcdef12345&idA2A=A2A-12345'
        pagamenti:
          description: Url per l'elenco dei pagamenti da portale comprensivi della pendenza
          type: string
          example: '/pagamenti?idPendenza=abcdef12345&idA2A=A2A-12345'
    rpt:
      type: object
      required:
        - idDominio
        - iuv
        - ccp
        - stato
      properties:
        idDominio:
          type: string
          description: Identificativo ente creditore
          example: 01234567890
        iuv:
          type: string
          description: Identificativo univoco di versamento
          example: RF23567483937849450550875
        ccp:
          type: string
          description: Codice contesto di pagamento
          example: n/a
        pendenza:
          type: string
          description: Url al dettaglio della pendenza
          example: '/pendenze/A2A-12345/abcdef12345'
        canale:
          type: string
          description: Url al dettaglio del canale utilizzato
          example: '/psp/ABI-12345/canali/1'
        modelloPagamento:
          $ref: '#/components/schemas/modelloPagamento'
        stato:
          type: string
          description: Stato della richiesta di pagamento sulla piattaforma PagoPA.
          example: RT_ACCETTATA_PA
        dettaglioStato:
          type: string
          description: >-
            Dettaglio fornito dal Nodo dei Pagamenti sullo stato della
            richiesta.
        dataRichiesta:
          type: string
          format: date
          description: Data di emissione della richiesta di pagamento.
          example: '2020-12-31'
        dataRicevuta:
          type: string
          format: date
          description: Data di ricezione della ricevuta telematica
          example: '2020-12-31'
        esito:
          $ref: '#/components/schemas/esitoRpt'
        importo:
          type: number
          description: >-
            Importo totale riscosso, corrispondente alla somma delle singole
            riscossioni.
          example: 10.01
    riscossione:
      type: object
      required:
        - idA2A
        - pendenza
        - idVocePendenza
        - idDominio
        - iuv
        - iur
        - importo
        - stato
      properties:
        idDominio:
          type: string
          description: Identificativo ente creditore
          example: 01234567890
        iuv:
          type: string
          description: Identificativo univoco di versamento
          example: RF23567483937849450550875
        iur:
          type: string
          description: Identificativo univoco di riscossione.
          example: '1234acdc'
        indice:
          type: number
          description: indice posizionale della voce pendenza riscossa
          example: 1
        pendenza:
          type: string
          description: Url della pendenza oggetto della riscossione
          example: '/pendenze/01234567890/abcdef12345'
        idVocePendenza:
          type: string
          description: >-
            Identificativo della voce di pedenza,interno alla pendenza, nel gestionale
            proprietario a cui si riferisce la riscossione
          example: abcdef12345_1
        rpt:
          type: string
          description: Url richiesta di pagamento che ha realizzato la riscossione. Se non valorizzato, si tratta di un pagamento senza RPT
          example: '/pendenze/01234567890/abcd12345/n%2Fa'
        importo:
          type: number
          description: >-
            Importo riscosso. 
          example: 10.01
        ibanAccredito:
          type: string
          description: Iban di accredito della riscossione comunicato nella RPT o individuato in fase di incasso
          example: 'IT02L1234512345123456789012'
        data:
          type: string
          format: date
          description: Data di esecuzione della riscossione
          example: '2020-12-31'
        commissioni:
          type: number
          description: Importo delle commissioni applicate al pagamento dal PSP
          example: 1.5
        allegato:
          type: object
          required:
            - tipo
            - testo
          properties:
            tipo:
              description: Tipologia di allegato
              type: string
              enum:
                - Esito pagamento
                - Marca da bollo
            testo:
              description: allegato codificato in base64
              type: string
    flussoRendicontazione:
      type: string
      example: TODO
    incassoPost:
      type: object
      required:
        - causale
        - importo
      properties:
        causale:
          type: string
          description: Causale dell'operazione di riversamento dal PSP alla Banca Tesoriera
          example: /PUR/LGPE-RIVERSAMENTO/URI/2017-01-01ABI00000011234
        importo:
          type: number
          format: double
          example: 100.01
        dataValuta:
          type: string
          format: date
          description: Data di valuta dell'incasso
          example: '2020-12-31'
        dataContabile:
          type: string
          format: date
          description: Data di contabile dell'incasso
          example: '2020-12-31'
    incasso:
      allOf:
        - type: object
          required:
            - id
          properties:
            id:
              type: string
              description: Identificativo dell'incasso
              example: '12345'
        - $ref: '#/components/schemas/incassoPost'
        - type: object
          required:
            - riscossioni
          properties:
            riscossioni:
              type: string
              description: Url alle riscossioni incassate
              example: /riscossioni?idIncasso=12345
    statoPendenza:
      description: Stato della pendenza
      example: Non pagata
      type: string
      enum:
        - Pagata
        - Non pagata
        - Pagata parzialmente
        - Scaduta
        - Annullata
        - Anomalia
    statoPagamento:
      type: string
      description: Stato del pagamento
      example: Pagamento eseguito
      enum:
        - Da redirigere al WISP
        - Selezione WISP in corso
        - Selezione WISP fallita
        - Selezione WISP timeout
        - Selezione WISP annullata
        - Pagamento in corso al PSP
        - Pagamento in attesa di esito
        - Pagamento eseguito
        - Pagamento non eseguito
        - Pagamento parzialmente eseguito
        - Pagamento in errore
    statoRiscossione:
      description: Stato della riscossione
      example: Riscossa
      type: string
      enum:
        - Riscossa
        - Incassata
    connector:
      type: object
      required: 
        - url
      properties:
        url: 
          type: string
          description: Dati di integrazione ad un servizio web
        versione:
          type: string
          description: Versione del servizio da utilizzare
          default: '1.0'
        auth:
          type: object
          oneOf:
            - type: object
              required:
                - username
                - password
              properties:
                username:
                  type: string
                password:
                  type: string
            - type: object
              required:
                - tipo
                - ksLocation
                - ksPassword
              properties:
                tipo:
                  type: string
                  enum: 
                    - Client
                    - Server
                ksLocation:
                  type: string
                  description: Location del keystore
                ksPassword:
                  type: string
                  description: Password del keystore
                tsLocation:
                  type: string
                  description: Location del truststore
                tsPassword:
                  type: string
                  description: Password del truststore
    soggetto:
      description: dati anagrafici di un versante o pagatore.
      type: object
      required:
        - tipo
        - identificativo
      properties:
        tipo:
          description: >-
            tipologia di soggetto, se persona fisica (F) o giuridica
            (G)
          type: string
          enum:
            - G
            - F
          example: F
        identificativo:
          description: codice fiscale o partita iva del soggetto
          type: string
          example: RSSMRA30A01H501I
        anagrafica:
          description: nome e cognome o altra ragione sociale del soggetto
          type: string
          example: Mario Rossi
        indirizzo:
          type: string
          example: Piazza della Vittoria
        civico:
          type: string
          example: 10/A
        cap:
          type: string
          example: 0
        localita:
          type: string
          example: Roma
        provincia:
          type: string
          example: Roma
        nazione:
          type: string
          example: IT
        email:
          type: string
          example: mario.rossi@host.eu
        cellulare:
          type: string
          example: 0039000123456789
    psp:
      type: object
      required:
        - idPsp
        - ragioneSociale
        - bollo
        - storno
        - canali
        - abilitato
      properties:
        idPsp:
          type: string
          description: identificativo del PSP
          example: ABI123456
        ragioneSociale:
          type: string
          description: identificativo del PSP
          example: Prestatore di Servizi di Pagamento
        bollo:
          type: boolean
          example: true
        storno:
          type: boolean
          example: false
        canali:
          type: string
          description: URL per acquisire la lista dei canali
          example: /psp/ABI123456/canali
        abilitato:
          type: boolean
          example: true
    canale:
      description: Canale di pagamento.
      type: object
      required:
        - idCanale
        - tipoVersamento
        - modelloPagamento
        - abilitato
      properties:
        idCanale:
          type: string
          description: identificativo del PSP
          example: ABI123456_1
        tipoVersamento:
          $ref: '#/components/schemas/tipoVersamento'
        modelloPagamento:
          $ref: '#/components/schemas/modelloPagamento'
        psp:
          type: string
          description: Url per acquisire il dettaglio del PSP
          example: /psp/ABI123456
        abilitato:
          type: boolean
          example: true      
    modelloPagamento:
      type: string
      description: Modello di versamento realizzata dal canale
      enum:
        - 0
        - 1
        - 2
        - 4
      example: 0
    tipoVersamento:
      type: string
      description: Tipologia di versamento
      enum:
        - PO
        - BP
        - BBT
        - CP
        - AD
        - OBEP
        - OTH
      example: CP
    esitoRpt:
      description: Esito della richiesta di pagamento
      example: ESEGUITA
      type: string
      enum:
        - Pagamento eseguito
        - Pagamento non eseguito
        - Pagamento parzialmente eseguito
        - Decorrenza termini
        - Decorrenza termini parziale
    vocePendenza:
      allOf:
        - type: object
          required:
            - idVocePendenza
            - importo
            - descrizione
          properties:
            indice:
              type: number
              description: indice di voce all'interno della pendenza
              example: 1
            idVocePendenza:
              type: string
              description: >-
                Identificativo della voce di pedenza nel gestionale
                proprietario
              example: abcdef12345_1
            importo:
              type: number
              description: Importo della voce
              example: 10.01
            descrizione:
              type: string
              description: descrizione della voce di pagamento
              example: Sanzione CdS n. abc00000
            datiAllegati:
              type: string
              description: >-
                Dati applicativi allegati dal gestionale secondo un
                formato proprietario.
        - oneOf:
            - description: Definisce i dettagli di incasso tramite riferimento in anagrafica GovPay.
              type: object
              required:
                - codEntrata
              properties:
                codEntrata:
                  type: string
            - description: Definisce i dettagli di incasso.
              type: object
              required:
                - ibanAccredito
                - tipoContabilita
                - codiceContabilita
              properties:
                ibanAccredito:
                  type: string
                  example: IT60X0542811101000000123456
                bicAccredito:
                  type: string
                  example: DABAIE2D
                ibanAppoggio:
                  type: string
                  example: IT60X0542811101000000123456
                bicAppoggio:
                  type: string
                  example: DABAIE2D
                tipoContabilita:
                  description: Tipologia di codifica del capitolo di bilancio
                  type: string
                  enum:
                    - Entrata
                    - Speciale
                    - SIOPE
                    - Altro
                  example: SIOPE
                codiceContabilita:
                  description: Codifica del capitolo di bilancio
                  type: string
                  example: 3321
            - description: Definisce i dati di un bollo telematico
              type: object
              required:
                - tipoBollo
                - hashDocumento
                - provinciaResidenza
              properties:
                tipoBollo:
                  description: Tipologia di Bollo digitale
                  type: string
                  enum:
                    - Imposta di bollo
                hashDocumento:
                  description: >-
                    Digest in base64 del documento informatico associato
                    alla marca da bollo
                  type: string
                provinciaResidenza:
                  description: >-
                    Sigla automobilistica della provincia di residenza del
                    soggetto pagatore
                  type: string
    listaPaginata:
      type: object
      properties:
        numRisultati:
          type: number
          format: integer
          example: '100'
        numPagine:
          type: number
          format: integer
          example: '4'
        risultatiPerPagina:
          type: number
          format: integer
          example: '25'
        pagina:
          type: number
          format: integer
          example: '1'
        prossimiRisultati:
          type: string
          format: integer
          example: '/risorsa?pagina=2'
    ruoloPost:
      type: object
      required:
        - acls
      properties:
        acls:
          type: array
          items:
            type: object
            required:
              - servizio
              - autorizzazioni
            properties:
              servizio:
                type: string
                description: >- 
                  Servizio oggetto dell'autorizzazione
                   * Anagrafica PagoPA
                   * Anagrafica Creditore
                   * Anagrafica Applicazioni
                   * Anagrafica Ruoli
                   * Pendenze e Pagamenti
                   * Rendicontazioni e Incassi
                   * Giornale degli Eventi
                   * Statistiche
                   * Configurazione e Manutenzione
                enum:
                  - Anagrafica PagoPA
                  - Anagrafica Creditore
                  - Anagrafica Applicazioni
                  - Anagrafica Ruoli
                  - Pagamenti e Pendenze
                  - Rendicontazioni e Incassi
                  - Giornale degli Eventi
                  - Statistiche
                  - Configurazione e manutenzione
                example:
                  Pendenze e Pagamenti
              idDominio:
                type: string
                description: dominio a cui e' limitata l'autorizzazione
                example: 01234567890
              idUnitaOperativa:
                type: string
                description: unita operativa a cui e' limitata l'autorizzazione
                example: Ufficio1
              idEntrata:
                type: string
                description: tipologia di entrata a cui e' limitata l'autorizzazione
                example: IMU
              soloPropri:
                type: boolean
                description: indica se l'autorizzazione e' limitata agli elementi di cui si e' riferimento
                example: false
              autorizzazioni:
                type: array
                items:
                  type: string
                  enum:
                   - Lettura
                   - Scrittura
                   - Esecuzione
                example:
                  - Lettura
                  - Scrittura
    ruolo:
      type: object
      allOf:
        - type: object
          required:
           - idRuolo
          properties:
            idRuolo:
              type: string
              description: Nome identificativo del ruolo
              example: 'GestPendenze_01234567890'
        - $ref: '#/components/schemas/ruoloPost'
    avviso:
      type: object
      required:
        - stato
      properties:
        pendenza:
          type: string
          description: Url per il dominio creditore
          example: '/pendenze/1234567890/abcdef123456'
        stato:
          description: Stato dell'avviso
          example: Non pagato
          type: string
          enum:
            - Pagato
            - Non pagato
            - Scaduto
            - Annullato
        importo:
          type: number
          description: >-
            Importo della pendenza. Deve corrispondere alla somma delle singole
            voci.
          example: 10.01
        numeroAvviso:
          type: string
          description: 'Identificativo univoco versamento, assegnato se pagabile da psp'
          example: 123456789012345
        dataValidita:
          type: string
          format: date
          description: >-
            Data di validita dei dati della pendenza, decorsa la quale la
            pendenza può subire variazioni.
          example: '2019-12-31'
        dataScadenza:
          type: string
          format: date
          description: >-
            Data di scadenza della pendenza, decorsa la quale non è più
            pagabile.
          example: '2020-12-31'
        descrizione:
          type: string
          description: Descrizione da inserire nell'avviso di pagamento
          example: 'Sanzione CdS n. abc00000'
        tassonomiaAvviso:
          type: string
          description: Macro categoria della pendenza secondo la classificazione AgID
          example: Sanzioni
        qrcode:
          type: string
          description: Testo da codificare nel qr-code dell'avviso
        barcode:
          type: string
          description: Testo da codificare nel bar-code dell'avviso