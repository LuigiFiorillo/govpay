<?xml version="1.0" encoding="UTF-8"?>
<b:beans xmlns:b="http://www.springframework.org/schema/beans"
        xmlns:jaxrs="http://cxf.apache.org/jaxrs"
        xmlns:cxf="http://cxf.apache.org/core"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="
        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
        http://cxf.apache.org/jaxrs http://cxf.apache.org/schemas/jaxrs.xsd
        http://cxf.apache.org/core http://cxf.apache.org/schemas/core.xsd">

        <b:import resource="classpath:META-INF/cxf/cxf.xml"/>
        <b:import resource="classpath:META-INF/cxf/cxf-servlet.xml"/>
        
	<!-- CXF Configuration -->
<!--     <cxf:bus> -->
<!--         <cxf:features> -->
<!--             <cxf:logging/> -->
<!--         </cxf:features> -->
<!--     </cxf:bus> -->

	<!-- Parameter Converter -->
    <b:bean id="parameterConverter" class="org.openspcoop2.utils.jaxrs.ParameterConverterProvider"/>

	<!--  Object BodyReader -->
    <b:bean id="objectMessageBodyReader" class="org.openspcoop2.utils.jaxrs.ObjectMessageBodyReader"/>

    <!--  Jackson Provider for JSON/XML -->
    <b:bean id="jacksonJsonProvider" class="org.openspcoop2.utils.jaxrs.JacksonJsonProvider"/>
    <b:bean id="jacksonXmlProvider" class="org.openspcoop2.utils.jaxrs.JacksonXmlProvider"/>
    
    <!-- FaultBean Exception Mapper -->
    <b:bean id="webApplicationExceptionMapper" class="it.govpay.rs.v1.handler.WebApplicationExceptionHandler"/>
        
   	<!-- JAX-RS Service Impl -->

   	<b:bean id="domini" class="it.govpay.pendenze.v1.Domini"/>
   	<b:bean id="pendenze" class="it.govpay.pendenze.v1.Pendenze"/>
   	<b:bean id="profilo" class="it.govpay.pendenze.v1.Profilo"/>
   	<b:bean id="rpp" class="it.govpay.pendenze.v1.Rpp"/>
       
   	<!-- JAX-RS Configuration -->
   
   
   <!--Servizi V1 -->

    <jaxrs:server id="apiPendenzeBasicV1" address="/basic/v1/">
        <jaxrs:serviceBeans>
                <ref bean="domini" />
			   	<ref bean="pendenze" />
			   	<ref bean="profilo" />
			   	<ref bean="rpp" />
        </jaxrs:serviceBeans>
        <jaxrs:providers>
                <ref bean="parameterConverter" />
                <ref bean="objectMessageBodyReader"/>
                <ref bean="jacksonJsonProvider"/>
                <ref bean="jacksonXmlProvider"/>
                <ref bean="webApplicationExceptionMapper" />
        </jaxrs:providers>
<!--                 <jaxrs:features> -->
<!--             <ref bean="openApiFeature" /> -->
<!--         </jaxrs:features> -->
    </jaxrs:server>
    
    <jaxrs:server id="apiPendenzeSSLV1" address="/ssl/v1/">
        <jaxrs:serviceBeans>
                <ref bean="domini" />
			   	<ref bean="pendenze" />
			   	<ref bean="profilo" />
			   	<ref bean="rpp" />
        </jaxrs:serviceBeans>
        <jaxrs:providers>
                <ref bean="parameterConverter" />
                <ref bean="objectMessageBodyReader"/>
                <ref bean="jacksonJsonProvider"/>
                <ref bean="jacksonXmlProvider"/>
                <ref bean="webApplicationExceptionMapper" />
        </jaxrs:providers>
<!--                 <jaxrs:features> -->
<!--             <ref bean="openApiFeature" /> -->
<!--         </jaxrs:features> -->
    </jaxrs:server>
    
    <jaxrs:server id="apiPendenzeHeaderV1" address="/header/v1/">
        <jaxrs:serviceBeans>
                <ref bean="domini" />
			   	<ref bean="pendenze" />
			   	<ref bean="profilo" />
			   	<ref bean="rpp" />
        </jaxrs:serviceBeans>
        <jaxrs:providers>
                <ref bean="parameterConverter" />
                <ref bean="objectMessageBodyReader"/>
                <ref bean="jacksonJsonProvider"/>
                <ref bean="jacksonXmlProvider"/>
                <ref bean="webApplicationExceptionMapper" />
        </jaxrs:providers>
<!--                 <jaxrs:features> -->
<!--             <ref bean="openApiFeature" /> -->
<!--         </jaxrs:features> -->
    </jaxrs:server>
    
</b:beans>
        